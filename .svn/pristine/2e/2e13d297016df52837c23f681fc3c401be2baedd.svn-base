<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');
class Calculation_result extends CI_Controller {
	function __construct(){
		parent::__construct();
		$this->load->model('calculation_model');

	}

	function index(){
		$this->data['Wresult'] = $this->result_weight_calculation();
		$this->data['Hresult'] = $this->result_height_calculation();

		$this->data['content']='makananBervariasi';
		$this->load->view('common/body',$this->data);
	}

	function result_weight_calculation(){
		$gender = $_POST['gender'];
		$age = $_POST['age'];
		$weight = $_POST['weight'];

		//Check ke table weight
		$rowW = $this->calculation_model->weight_calculation();
		//print_r($row);

		$valW1 = $rowW['val1'];
		$valW2 = $rowW['val2'];
		$valW3 = $rowW['val3'];
		$valW4 = $rowW['val4'];
		$valW5 = $rowW['val5'];
		$valW6 = $rowW['val6'];
		$valW7 = $rowW['val7'];


		echo "<br>Weight Category = ".$this->checkWeightCalculation($weight,$valW1,$valW2,$valW3,$valW4,$valW5,$valW6,$valW7);
	}

	function result_height_calculation(){
		$gender = $_POST['gender'];
		$age = $_POST['age'];
		$height = $_POST['height'];

		$rowW = $this->calculation_model->height_calculation();
		//print_r($row);

		$valH1 = $rowH['val1'];
		$valH2 = $rowH['val2'];
		$valH3 = $rowH['val3'];
		$valH4 = $rowH['val4'];
		$valH5 = $rowH['val5'];
		$valH6 = $rowH['val6'];
		$valH7 = $rowH['val7'];

		echo "<br>Height Category = ".$this->checkHeightCalculation($height,$valH1,$valH2,$valH3,$valH4,$valH5,$valH6,$valH7);
	}

	function checkWeightCalculation($weight,$val1,$val2,$val3,$val4,$val5,$val6,$val7){
		$result = 0 ;
		if ($weight <= $val1)
		{
			$result = 1;
		}
		else if ($weight > $val7)
		{
			$result = 7;
		}
		else if ($weight > $val1 && $weight <= $val2)
		{

			$result = 2;
			
		}
		else if ($weight > $val2 && $weight <= $val3)
		{
			$result = 3;
			
		}
		else if ($weight > $val3 && $weight < $val4)
		{
			$result = 3;
			
		}
		else if ($weight >= $val4 && $weight < $val5)
		{
			
			$result = 4;
			
		}
		else if ($weight >= $val5 && $weight < $val6)
		{
			
			$result = 5;
			
		}
		else if ($weight >= $val6 && $weight < $val7)
		{
			
			$result = 6;
		
		}
		return $result;

}

function checkHeightCalculation($height,$val1,$val2,$val3,$val4,$val5,$val6,$val7){
		$result = 0 ;
		if ($height <= $val1)
		{
			$result = 1;
		}
		else if ($$height > $val7)
		{
			$result = 7;
		}
		else if ($height > $val1 && $height <= $val2)
		{

			$result = 2;
			
		}
		else if ($height > $val2 && $height <= $val3)
		{
			$result = 3;
			
		}
		else if ($height > $val3 && $height < $val4)
		{
			$result = 3;
			
		}
		else if ($height >= $val4 && $height < $val5)
		{
			
			$result = 4;
			
		}
		else if ($height >= $val5 && $height < $val6)
		{
			
			$result = 5;
			
		}
		else if ($height >= $val6 && $height < $val7)
		{
			
			$result = 6;
		
		}
		return $result;
	}

}
?>