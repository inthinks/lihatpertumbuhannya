<?php if(!defined('BASEPATH')) exit('Hack attemp?');
class Photo_model extends CI_Model{

	function __construct(){
		parent::__construct();
	}
	
	function get_photo(){
		$sql = "select * from photo_competition_tb order by created_date desc";
		$query = $this->db->query($sql);
		return $query->result_array();
	}

	function get_last_photo(){
		$result = $this->db->query('select * from photo_competition_tb order by id desc limit 1');
		return $result->row_array();
	}

	function get_edit_photo($id, $user_id){
		$result = $this->db->query('select * from photo_competition_tb WHERE id = '.esc($id).' && user_id = '.esc($user_id));
		return $result->row_array();
	}

	function get_all_photo(){
		$result = $this->db->query('select photo.*, user.name from photo_competition_tb photo join user_tb user on photo.user_id = user.id ORDER BY photo.id DESC');
		return $result->result_array();
	}



}?>